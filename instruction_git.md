# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>


## Удаленный репозиторий

Удаленный репозиторий – это версии вашего проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети. Удаленный репозиторий – полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель HEAD, своя история коммитов и так далее.

### Локальная копия удаленного репозитория

Для того, чтобы создать локуальную копию удаленного репозитория, например с GitHub необходимо:

1. Создать папку без репозитория, запустить в нем терминал

2. В удаленном репозиории на GitHub скопировать ссылку на него

3. В терминале без репозитория, используя ссылку, копируем удаленный репозиторий с помощью команды:

    git clone <https:// ......................>

Создана локальная копия удаленного репозитория. При этом репозиторий обязательно нужно переместить, то есть перейти внутрь папки, где есть репозиторий, с помощью команды:

    cd <name_of_folder>

### Удаленная копия локального репозитория

Для того, чтобы сделать удаленную копию локального репозитория необходимо:

1. Создать новый репозиторий на GitHub
2. После создания следуем подсказкам из раздела "…or push an existing repository from the command line" и используем по очереди 3 команды:
    - git remote add origin https://......
    - git branch -M main
    - git push -u origin main

! Внимание: во второй и третьей команде может быть либо main  либо  master, в завсимости от названия вашей главной ветки в локальном репозитории.

Для того, чтобы в дальнейшем внести изменения произведенные в локальном репозитории на удаленный используют команду:

    git push <name_of_local_repository>

Также можно и внести изменения в локальный репозиторий, если вы делали их на удаленном с помощью команды (стянуть актуальное состояние из удаленного репозитория):

    git pull

### Совместная работа над проектом

 Форк (от англ. fork – вилка) точная копия репозитория, но в вашем аккаунте. Форки нужны, чтобы вносить свои изменения в проект, к репозиторию которого у вас нет прямого доступа. 

Пулл-реквест (от англ. pull-request – запрос pull) – функция GitHub, позволяющая попросить владельца репозитория, от которого мы сделали форк, загрузить наши изменения обратно в свой репозиторий. 

Если коротко, форки и пулл-реквесты нужны, чтобы любой пользователь мог внести свой вклад в любой открытый проект, репозиторий которого есть на GitHub. 

#### Fork
Для того, чтобы начать работу с проектом другого автора необходимо:

1. Для начала зайдем на страницу репозитория проекта, с которым мы хоти поработать.
2. Нажимаем на кнопку Fork в правой верхней части экрана.
3. Git создаст точную копию этого репозитория в вашем аккаунте. 

Теперь с репозиторием можно работать либо удаленно, либо создать его локальную копию с помощью git clone.

#### Pull-request

Все сделанные изменения в локальной копии удаленного репозитория обязательнодолжны быть запушены (git push) на удаленный репозиторий.

Теперь ваши изменения можно направить автору. Для этого:

1. Нажимаем на кнопку Compare на подсказке GitHub, либо переходим на вкладку Pull Requests и нажимаем New pull request.

2. Перед нами откроется страница создания пулл-реквеста. 

3. Здесь мы можем просмотреть внесенные изменения и выбрать две ветки: одну в исходном репозитории, на нее будут залиты наши изменения, вторую – в нашем репозитории, с нее будут скачаны изменения. Как только мы выбрали ветки и убедились, что не внесли никаких лишних изменений, нажимаем кнопку Create pull request.

4. Теперь мы попадаем на страницу описания наших изменений. Здесь необходимо описать, что за изменения вы внесли и почему они были необходимы. С

5. Нажимаем кнопку Create pull request.

6. Автор проекта получает сообщение о предложенных измениях и может также оставить комментарии.